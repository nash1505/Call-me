(this.webpackJsonpcallme=this.webpackJsonpcallme||[]).push([[0],{102:function(e,t,a){e.exports=a.p+"static/media/logo.2810a88b.svg"},108:function(e,t,a){e.exports=a.p+"static/media/card_1.b56c12fc.jpg"},109:function(e,t,a){e.exports=a.p+"static/media/features-split-image-01.d9cb99ce.png"},110:function(e,t,a){e.exports=a.p+"static/media/features-split-image-02.3c569239.png"},111:function(e,t,a){},112:function(e,t,a){},114:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),i=a.n(c),l=a(38),o=a(26),s=a(14),u=function(e){var t=e.component,a=e.layout,n=Object(s.a)(e,["component","layout"]);return a=void 0===a?function(e){return r.a.createElement(r.a.Fragment,null,e.children)}:a,r.a.createElement(l.a,Object.assign({},n,{render:function(e){return r.a.createElement(a,null,r.a.createElement(t,e))}}))},m=a(7),d=a(9),p=a.n(d),v=a(69),f=r.a.forwardRef((function(e,t){var a=Object(n.useState)(window.innerHeight),c=Object(m.a)(a,2),i=c[0],l=c[1],o=Object(n.useState)([]),s=Object(m.a)(o,2),u=s[0],d=s[1],p=function(){return u.length<=document.querySelectorAll("[class*=reveal-].is-revealed").length},f=function(){if(!p())for(var e=function(e){var t=u[e],a=t.getAttribute("data-reveal-delay"),n=t.getAttribute("data-reveal-offset")?t.getAttribute("data-reveal-offset"):"200";(function(e,t){return e.getBoundingClientRect().top<=i-t})(t.getAttribute("data-reveal-container")?t.closest(t.getAttribute("data-reveal-container")):t,n)&&!t.classList.contains("is-revealed")&&(a&&0!==a?setTimeout((function(){t.classList.add("is-revealed")}),a):t.classList.add("is-revealed"))},t=0;t<u.length;t++)e(t)};Object(n.useImperativeHandle)(t,(function(){return{init:function(){d(document.querySelectorAll("[class*=reveal-]"))}}})),Object(n.useEffect)((function(){"undefined"!==typeof u&&u.length>0&&(p()||(window.addEventListener("scroll",h),window.addEventListener("resize",E)),f())}),[u]);var b=function(){p()&&(window.removeEventListener("scroll",h),window.removeEventListener("resize",E))},h=Object(v.throttle)((function(){b(),f()}),30),E=Object(v.throttle)((function(){l(window.innerHeight)}),30);return Object(n.useEffect)((function(){b(),f()}),[i]),r.a.createElement(r.a.Fragment,null,e.children())}));f.propTypes={children:p.a.func.isRequired};var b=f,h=a(56),E=a(4),g=a.n(E),O=a(11),x=a(12),w=a.n(x),j=a(19),y=function(e){var t=e.className,a=e.src,c=e.width,i=e.height,l=e.alt,o=Object(s.a)(e,["className","src","width","height","alt"]),u=Object(n.useState)(!1),d=Object(m.a)(u,2),p=d[0],v=d[1],f=Object(n.useRef)(null);Object(n.useEffect)((function(){b(f.current)}),[]);var b=function(e){var t,a,n=document.createElement("img");p||(e.style.display="none",e.before(n),n.src=(t=e.getAttribute("width")||0,a=e.getAttribute("height")||0,'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '.concat(t," ").concat(a,'"%3E%3C/svg%3E')),n.width=e.getAttribute("width"),n.height=e.getAttribute("height"),n.style.opacity="0",e.className&&n.classList.add(e.className),n.remove(),e.style.display="")};return r.a.createElement("img",Object.assign({},o,{ref:f,className:t,src:a,width:c,height:i,alt:l,onLoad:function(){v(!0)}}))};y.defaultProps={src:void 0,width:void 0,height:void 0,alt:void 0};var N=y,k=function(e){var t=e.className,n=Object(s.a)(e,["className"]),c=w()("brand",t);return r.a.createElement("div",Object.assign({},n,{className:c}),r.a.createElement("h1",{className:"m-0"},r.a.createElement(j.a,{to:"/"},r.a.createElement(N,{src:a(102),alt:"Open",width:32,height:32}))))},C=a(43);C.a.initializeApp({apiKey:"AIzaSyC8fpNzpymEw0lk5BXwbvdlmdq5JwlcEK8",authDomain:"chat-application-6dc31.firebaseapp.com",projectId:"chat-application-6dc31",storageBucket:"chat-application-6dc31.appspot.com",messagingSenderId:"63827329645",appId:"1:63827329645:web:fd0a7378327de46695f564"});var S=C.a,D=C.a.auth(),T=C.a.firestore(),L=C.a.storage(),A=function(e){var t=e.className,a=e.tag,n=e.color,c=e.size,i=e.loading,l=e.wide,o=e.wideMobile,u=e.disabled,m=Object(s.a)(e,["className","tag","color","size","loading","wide","wideMobile","disabled"]),d=w()("button",n&&"button-".concat(n),c&&"button-".concat(c),i&&"is-loading",l&&"button-block",o&&"button-wide-mobile",t),p=a;return r.a.createElement(p,Object.assign({},m,{className:d,disabled:u}))};A.defaultProps={tag:"button",color:"",size:"",loading:!1,wide:!1,wideMobile:!1,disabled:!1};var _=A,F=function(e){var t=e.className,a=e.navPosition,c=e.hideNav,i=e.hideSignin,o=e.bottomOuterDivider,u=e.bottomDivider,d=Object(s.a)(e,["className","navPosition","hideNav","hideSignin","bottomOuterDivider","bottomDivider"]),p=Object(n.useState)(!1),v=Object(m.a)(p,2),f=v[0],b=v[1],h=Object(n.useState)(""),E=Object(m.a)(h,2),x=E[0],y=E[1],N=Object(n.useState)(!1),C=Object(m.a)(N,2),S=C[0],L=C[1],A=Object(n.useRef)(null),F=Object(n.useRef)(null),B=Object(l.f)();Object(n.useEffect)((function(){return f&&U(),document.addEventListener("keydown",I),document.addEventListener("click",V),function(){document.removeEventListener("keydown",I),document.removeEventListener("click",V),M()}}),[]),Object(n.useEffect)((function(){D.onAuthStateChanged((function(e){e&&(L(!0),y(e))}))}),[]);var R=function(){var e=Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=5;break}return B.push("login"),e.abrupt("return",!0);case 5:if(!window.confirm("Are You Sure To Logout ?")){e.next=12;break}return e.next=9,P(x.email);case 9:return e.next=11,D.signOut();case 11:window.location.reload();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(O.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.collection("users").where("email","==",t).get().then((function(e){return e.docs.map((function(e){return e.id}))[0]}));case 2:return a=e.sent,e.next=5,T.collection("users").doc(a).update({isonline:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){document.body.classList.add("off-nav-is-active"),A.current.style.maxHeight=A.current.scrollHeight+"px",b(!0)},M=function(){document.body.classList.remove("off-nav-is-active"),A.current&&(A.current.style.maxHeight=null),b(!1)},I=function(e){f&&27===e.keyCode&&M()},V=function(e){A.current&&f&&!A.current.contains(e.target)&&e.target!==F.current&&M()},W=w()("site-header",o&&"has-bottom-divider",t);return r.a.createElement("header",Object.assign({},d,{className:W}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:w()("site-header-inner",u&&"has-bottom-divider")},r.a.createElement(j.a,{to:"/"},r.a.createElement(k,null)),!c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{ref:F,className:"header-nav-toggle",onClick:f?M:U},r.a.createElement("span",{className:"screen-reader"},"Menu"),r.a.createElement("span",{className:"hamburger"},r.a.createElement("span",{className:"hamburger-inner"}))),r.a.createElement("nav",{ref:A,className:w()("header-nav",f&&"is-active")},r.a.createElement("div",{className:"header-nav-inner"},r.a.createElement("ul",{className:w()("list-reset text-xs",a&&"header-nav-".concat(a))},r.a.createElement("li",null,r.a.createElement(j.a,{to:"#0",onClick:M},"About"))),!i&&r.a.createElement("ul",{className:"list-reset header-nav-right"},r.a.createElement("li",null,r.a.createElement(_,{className:"button button-primary button-wide-mobile button-sm",onClick:R},S?"Logout":"Login"),r.a.createElement(j.a,{to:"/sign",className:"button button-primary button-wide-mobile button-sm",onClick:M},S?"Signup":"Sign up")))))))))};F.defaultProps={navPosition:"",hideNav:!1,hideSignin:!1,bottomOuterDivider:!1,bottomDivider:!1};var B=F,R=function(e){var t=e.className,a=Object(s.a)(e,["className"]),n=w()("footer-nav",t);return r.a.createElement("nav",Object.assign({},a,{className:n}),r.a.createElement("ul",{className:"list-reset"},r.a.createElement("li",null,r.a.createElement(j.a,{to:"#0"},"Contact")),r.a.createElement("li",null,r.a.createElement(j.a,{to:"#0"},"About us")),r.a.createElement("li",null,r.a.createElement(j.a,{to:"#0"},"FAQ's")),r.a.createElement("li",null,r.a.createElement(j.a,{to:"#0"},"Support"))))},P=function(e){var t=e.className,a=Object(s.a)(e,["className"]),n=w()("footer-social",t);return r.a.createElement("div",Object.assign({},a,{className:n}),r.a.createElement("ul",{className:"list-reset"},r.a.createElement("li",null,r.a.createElement("a",{href:"https://facebook.com/"},r.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"Facebook"),r.a.createElement("path",{d:"M6.023 16L6 9H3V6h3V4c0-2.7 1.672-4 4.08-4 1.153 0 2.144.086 2.433.124v2.821h-1.67c-1.31 0-1.563.623-1.563 1.536V6H13l-1 3H9.28v7H6.023z"})))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://twitter.com/"},r.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"Twitter"),r.a.createElement("path",{d:"M16 3c-.6.3-1.2.4-1.9.5.7-.4 1.2-1 1.4-1.8-.6.4-1.3.6-2.1.8-.6-.6-1.5-1-2.4-1-1.7 0-3.2 1.5-3.2 3.3 0 .3 0 .5.1.7-2.7-.1-5.2-1.4-6.8-3.4-.3.5-.4 1-.4 1.7 0 1.1.6 2.1 1.5 2.7-.5 0-1-.2-1.5-.4C.7 7.7 1.8 9 3.3 9.3c-.3.1-.6.1-.9.1-.2 0-.4 0-.6-.1.4 1.3 1.6 2.3 3.1 2.3-1.1.9-2.5 1.4-4.1 1.4H0c1.5.9 3.2 1.5 5 1.5 6 0 9.3-5 9.3-9.3v-.4C15 4.3 15.6 3.7 16 3z"})))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://google.com/"},r.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"Instagram"),r.a.createElement("g",null,r.a.createElement("circle",{cx:"12.145",cy:"3.892",r:"1"}),r.a.createElement("path",{d:"M8 12c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4zm0-6c-1.103 0-2 .897-2 2s.897 2 2 2 2-.897 2-2-.897-2-2-2z"}),r.a.createElement("path",{d:"M12 16H4c-2.056 0-4-1.944-4-4V4c0-2.056 1.944-4 4-4h8c2.056 0 4 1.944 4 4v8c0 2.056-1.944 4-4 4zM4 2c-.935 0-2 1.065-2 2v8c0 .953 1.047 2 2 2h8c.935 0 2-1.065 2-2V4c0-.935-1.065-2-2-2H4z"})))))))},U=function(e){var t=e.className,a=e.topOuterDivider,n=e.topDivider,c=Object(s.a)(e,["className","topOuterDivider","topDivider"]),i=w()("site-footer center-content-mobile",a&&"has-top-divider",t);return r.a.createElement("footer",Object.assign({},c,{className:i}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:w()("site-footer-inner",n&&"has-top-divider")},r.a.createElement("div",{className:"footer-top space-between text-xxs"},r.a.createElement(k,null),r.a.createElement(P,null)),r.a.createElement("div",{className:"footer-bottom space-between text-xxs invert-order-desktop"},r.a.createElement(R,null)))))};U.defaultProps={topOuterDivider:!1,topDivider:!1};var M=U,I=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,{navPosition:"right",className:"reveal-from-bottom"}),r.a.createElement("main",{className:"site-content"},t),r.a.createElement(M,null))},V=a(29),W={types:{topOuterDivider:p.a.bool,bottomOuterDivider:p.a.bool,topDivider:p.a.bool,bottomDivider:p.a.bool,hasBgColor:p.a.bool,invertColor:p.a.bool},defaults:{topOuterDivider:!1,bottomOuterDivider:!1,topDivider:!1,bottomDivider:!1,hasBgColor:!1,invertColor:!1}},H={types:Object(V.a)({},W.types),defaults:Object(V.a)({},W.defaults)},z={types:Object(V.a)({},W.types,{invertMobile:p.a.bool,invertDesktop:p.a.bool,alignTop:p.a.bool,imageFill:p.a.bool}),defaults:Object(V.a)({},W.defaults,{invertMobile:!1,invertDesktop:!1,alignTop:!1,imageFill:!1})},K=(Object(V.a)({},W.types,{pushLeft:p.a.bool}),Object(V.a)({},W.defaults,{pushLeft:!1}),function(e){var t=e.className,a=Object(s.a)(e,["className"]),n=w()("button-group",t);return r.a.createElement("div",Object.assign({},a,{className:n}))}),q=Object(V.a)({},H.defaults),J=function(e){var t=e.className,c=e.topOuterDivider,i=e.bottomOuterDivider,l=e.topDivider,o=e.bottomDivider,u=e.hasBgColor,d=e.invertColor,p=Object(s.a)(e,["className","topOuterDivider","bottomOuterDivider","topDivider","bottomDivider","hasBgColor","invertColor"]);Object(n.useEffect)((function(){D.onAuthStateChanged((function(e){e&&(O(!0),b(e))}))}),[]);var v=Object(n.useState)(""),f=Object(m.a)(v,2),b=(f[0],f[1]),h=Object(n.useState)(!1),E=Object(m.a)(h,2),g=E[0],O=E[1],x=w()("hero section center-content",c&&"has-top-divider",i&&"has-bottom-divider",u&&"has-bg-color",d&&"invert-color",t),y=w()("hero-inner section-inner",l&&"has-top-divider",o&&"has-bottom-divider");return r.a.createElement("section",Object.assign({},p,{className:x}),r.a.createElement("div",{className:"container-sm"},r.a.createElement("div",{className:y},r.a.createElement("div",{className:"hero-content"},r.a.createElement("h1",{className:"mt-0 mb-16 reveal-from-bottom","data-reveal-delay":"200"},"Video Calling for ",r.a.createElement("span",{className:"text-color-primary"},"Everyone")),r.a.createElement("div",{className:"container-xs"},r.a.createElement("p",{className:"m-0 mb-32 reveal-from-bottom","data-reveal-delay":"400"},"Video Calling Application With Chat Feature makes your Work From Home Easy."),r.a.createElement("div",{className:"reveal-from-bottom","data-reveal-delay":"600"},r.a.createElement(K,null,r.a.createElement(j.a,{to:g?"/dashboard":"/login"},r.a.createElement(_,{tag:"a",color:"primary",wideMobile:!0},g?"Go to Dashboard":"Get Started")),r.a.createElement(_,{tag:"a",color:"dark",wideMobile:!0},"About"))))),r.a.createElement("div",{className:"hero-figure reveal-from-bottom illustration-element-01","data-reveal-value":"20px","data-reveal-delay":"800"},r.a.createElement(N,{className:"has-shadow",src:a(108),alt:"Hero",width:896,height:504})))))};J.defaultProps=q;var G=J,Y=function(e){var t=e.className,a=e.data,n=e.children,c=e.tag,i=Object(s.a)(e,["className","data","children","tag"]),l=w()("section-header",t),o=c;return r.a.createElement(r.a.Fragment,null,(a.title||a.paragraph)&&r.a.createElement("div",Object.assign({},i,{className:l}),r.a.createElement("div",{className:"container-xs"},n,a.title&&r.a.createElement(o,{className:w()("mt-0",a.paragraph?"mb-16":"mb-0")},a.title),a.paragraph&&r.a.createElement("p",{className:"m-0"},a.paragraph))))};Y.defaultProps={children:null,tag:"h2"};var Q=Y,X=Object(V.a)({},z.defaults),$=function(e){var t=e.className,n=e.topOuterDivider,c=e.bottomOuterDivider,i=e.topDivider,l=e.bottomDivider,o=e.hasBgColor,u=e.invertColor,m=e.invertMobile,d=e.invertDesktop,p=e.alignTop,v=e.imageFill,f=Object(s.a)(e,["className","topOuterDivider","bottomOuterDivider","topDivider","bottomDivider","hasBgColor","invertColor","invertMobile","invertDesktop","alignTop","imageFill"]),b=w()("features-split section",n&&"has-top-divider",c&&"has-bottom-divider",o&&"has-bg-color",u&&"invert-color",t),h=w()("features-split-inner section-inner",i&&"has-top-divider",l&&"has-bottom-divider"),E=w()("split-wrap",m&&"invert-mobile",d&&"invert-desktop",p&&"align-top");return r.a.createElement("section",Object.assign({},f,{className:b}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:h},r.a.createElement(Q,{data:{title:"Work Chat Repeat",paragraph:"Connect With your Family, Friends and Collegues Anytime and Anywhere."},className:"center-content"}),r.a.createElement("div",{className:E},r.a.createElement("div",{className:"split-item"},r.a.createElement("div",{className:"split-item-content center-content-mobile reveal-from-left","data-reveal-container":".split-item"},r.a.createElement("div",{className:"text-xxs text-color-primary fw-600 tt-u mb-8"},"Video Conferencing"),r.a.createElement("h3",{className:"mt-0 mb-12"},"Video Conference"),r.a.createElement("p",{className:"m-0"},"Video Conference With Friends, Famly And With Office Mates Easily And Smoothly.")),r.a.createElement("div",{className:w()("split-item-image center-content-mobile reveal-from-bottom",v&&"split-item-image-fill"),"data-reveal-container":".split-item"},r.a.createElement(N,{src:a(109),alt:"Features split 01",width:528,height:396}))),r.a.createElement("div",{className:"split-item"},r.a.createElement("div",{className:"split-item-content center-content-mobile reveal-from-right","data-reveal-container":".split-item"},r.a.createElement("div",{className:"text-xxs text-color-primary fw-600 tt-u mb-8"},"Messaging"),r.a.createElement("h3",{className:"mt-0 mb-12"},"Message Anywhere Anytime"),r.a.createElement("p",{className:"m-0"},"Chat With Your Peers With Firebase Security and Chat as much as you want.")),r.a.createElement("div",{className:w()("split-item-image center-content-mobile reveal-from-bottom",v&&"split-item-image-fill"),"data-reveal-container":".split-item"},r.a.createElement(N,{src:a(110),alt:"Features split 02",width:528,height:396})))))))};$.defaultProps=X;var Z=$,ee=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{className:"illustration-section-01"}),r.a.createElement(Z,{invertMobile:!0,topDivider:!0,imageFill:!0,className:"illustration-section-02"}))},te=a(121),ae=a(155),ne=a(147),re=a(146),ce=a(57),ie=a(154),le=a(151),oe=a(150),se=a(158),ue=a(148),me=a(149),de=a(152),pe=a(144),ve=(a(111),a(156));var fe=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(""),o=Object(m.a)(l,2),s=o[0],u=o[1],d=Object(n.useState)(!1),p=Object(m.a)(d,2),v=p[0],f=p[1],b=Object(n.useState)(""),h=Object(m.a)(b,2),E=h[0],x=h[1],w=Object(n.useState)(e.allUserData),j=Object(m.a)(w,2),y=j[0],N=(j[1],Object(n.useState)(!1)),k=Object(m.a)(N,2),C=k[0],S=k[1],D=Object(n.useState)([]),L=Object(m.a)(D,2),A=L[0],_=L[1];Object(n.useEffect)((function(){try{F()}catch(e){F()}}),[]);var F=function(){0===e.allUserData&&e.history.push("/dashboard")},B=function(){var e=Object(O.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.collection("users").get();case 2:return t=e.sent,e.prev=3,a=t.docs.map((function(e){return e.data().email})).includes(c),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0),alert("Sorry Something Want Wrong"),f(!1);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}(),R=function(){f(!0);var t=B();if(c&&s&&c!==e.userEmail&&E)if(t){var a=M();try{a?e.backButtonClick():P(e.userEmail,c,s)}catch(n){console.log(n)}}else alert("User Is Not Exists Please Check It"),f(!1);else alert("Please Enter Valid Data"),f(!1)},P=function(t,a,n){var r=U(),c=Date.now(),i=(new Date).toLocaleTimeString("en-US",{hour:"numeric",hour12:!0,minute:"numeric"});T.collection("chats").doc(r).set({docid:r,time:c,users:[t,a],typing:[],messages:[{message:n,sender:t,time:i,type:"text"}]}),f(!1),e.backButtonClick()},U=function(){return[c,e.userEmail].sort().join(":")},M=function(){var e=U();return T.collection("chats").doc(e).get().exists},I=function(){var t=Object(O.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=[],!(E.length>0)){t.next=7;break}return y.map((function(t){-1!==t.name.indexOf(E)&&t.email!==e.userEmail&&a.push(t)})),t.next=5,_(a);case 5:t.next=9;break;case 7:return t.next=9,_([]);case 9:if(0!==A.length){t.next=16;break}return t.next=12,S(!1);case 12:return t.next=14,i("");case 14:t.next=18;break;case 16:return t.next=18,S(!0);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},!1===v?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"title"},r.a.createElement("span",null,"Lets Create New Chat")),r.a.createElement("div",{className:"form-component"},r.a.createElement(ve.a,{type:"text",placeholder:"Enter Your Friend Username",value:E,className:"email mt-3",style:{padding:"5px"},onChange:function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t.target.value.toLowerCase());case 2:return e.next=4,I();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),r.a.createElement("div",{className:"form-component"},r.a.createElement(ve.a,{type:"text",placeholder:"Enter Message",value:s,className:"email",style:{padding:"5px"},onChange:function(e){return u(e.target.value)},onKeyUp:function(e){return 13===e.keyCode?R():null}})),r.a.createElement("div",{className:"form-component"},r.a.createElement(pe.a,{className:"btn btn-secondary",onClick:function(){return e.backButtonClick()}},"Back"),r.a.createElement(pe.a,{className:"",style:{backgroundColor:"#6b38d1"},onClick:function(){return R()}},"Create"))),r.a.createElement("div",{className:"col-lg-6 col-sm-12 col-xs-12 flex2 mt-2"},C?r.a.createElement("div",{className:"new-chat-list"},A.map((function(e,t){return r.a.createElement("div",{className:" text-light p-2 mt-2 pointer",style:{backgroundColor:"#6b34c9",borderRadius:"20px"},key:t,onClick:Object(O.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i(e.email);case 2:return t.next=4,x(e.name);case 4:return t.next=6,I();case 6:case"end":return t.stop()}}),t)})))},r.a.createElement("div",{className:"chat-list"},r.a.createElement("div",{className:"Result-list"},r.a.createElement("h4",{style:{textAlign:"left"}},e.name))))}))):r.a.createElement("div",{className:"Results"},"No Result"))):r.a.createElement("center",null,r.a.createElement("h3",null,"Submiting...")))},be=a(82),he=a.n(be),Ee=a(84),ge=a.n(Ee),Oe=a(83),xe=a.n(Oe),we=a(81),je=(a(112),a(113),a(145));var ye=function(){var e=r.a.createRef(),t=r.a.createRef(),a=r.a.createRef(),c=new RTCPeerConnection({iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10}),i=null,l=null;Object(n.useEffect)((function(){Object(O.a)(g.a.mark((function a(){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 2:i=a.sent,l=new MediaStream,i.getTracks().forEach((function(e){c.addTrack(e,i)})),c.ontrack=function(e){e.streams[0].getTracks().forEach((function(e){l.addTrack(e)}))},e.current&&(e.current.srcObject=i),t.current&&(t.current.srcObject=l);case 8:case"end":return a.stop()}}),a)})))()}),[e,i,l,t]);var o=function(){var e=Object(O.a)(g.a.mark((function e(){var t,n,r,i,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=T.collection("calls").doc(),n=t.collection("offerCandidates"),r=t.collection("answerCandidates"),a.current.value=t.id,c.onicecandidate=function(e){e.candidate&&n.add(e.candidate.toJSON())},e.next=7,c.createOffer();case 7:return i=e.sent,e.next=10,c.setLocalDescription(i);case 10:return l={sdp:i.sdp,type:i.type},e.next=13,t.set({offer:l});case 13:t.onSnapshot((function(e){var t=e.data();if(!c.currentRemoteDescription&&(null===t||void 0===t?void 0:t.answer)){var a=new RTCSessionDescription(t.answer);c.setRemoteDescription(a)}})),r.onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var t=new RTCIceCandidate(e.doc.data());c.addIceCandidate(t)}}))}));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(O.a)(g.a.mark((function e(){var t,n,r,i,l,o,s,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.current.value,n=T.collection("calls").doc(t),r=n.collection("answerCandidates"),i=n.collection("offerCandidates"),c.onicecandidate=function(e){e.candidate&&r.add(e.candidate.toJSON())},e.next=7,n.get();case 7:return e.next=9,e.sent.data();case 9:return l=e.sent,o=l.offer,e.next=13,c.setRemoteDescription(new RTCSessionDescription(o));case 13:return e.next=15,c.createAnswer();case 15:return s=e.sent,e.next=18,c.setLocalDescription(s);case 18:return u={type:s.type,sdp:s.sdp},e.next=21,n.set({answer:u});case 21:i.onSnapshot((function(e){e.docChanges().forEach((function(e){if(console.log("here>>>>",e),"added"===e.type){var t=e.doc.data();c.addIceCandidate(new RTCIceCandidate(t))}}))}));case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var t=Object(O.a)(g.a.mark((function t(){var n,r,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.current.srcObject.getTracks().forEach((function(e){e.stop()})),l&&l.getTracks().forEach((function(e){return e.stop()})),c&&c.close(),!(n=a.current.value)){t.next=18;break}return r=we.a.firestore(),i=r.collection("chats").doc(n),t.next=10,i.collection("answerCandidates").get();case 10:return t.sent.forEach(function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.delete();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.next=14,i.collection("offerCandidates").get();case 14:return t.sent.forEach(function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.delete();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.next=18,i.delete();case 18:document.location.reload(!0);case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"videos"},r.a.createElement(je.a,{container:!0,spacing:0},r.a.createElement(je.a,{item:!0,xs:6},r.a.createElement("video",{id:"webcamVideo",ref:t,autoPlay:!0,playsInline:!0})),r.a.createElement(je.a,{item:!0,xs:6},r.a.createElement("video",{id:"webcamVideo",ref:e,autoPlay:!0,playsInline:!0}))),r.a.createElement(je.a,{container:!0,spacing:2},r.a.createElement(je.a,{item:!0,xs:3}),r.a.createElement(je.a,{item:!0,container:!0,xs:6},r.a.createElement(je.a,{item:!0,xs:3},r.a.createElement(_,{id:"callButton",onClick:o},"Create Call (offer)")),r.a.createElement(je.a,{item:!0,xs:3},r.a.createElement(_,{id:"answerButton",onClick:s},"Answer")),r.a.createElement(je.a,{item:!0,xs:3},r.a.createElement(_,{id:"hangupButton",onClick:u},"Hangup")),r.a.createElement(je.a,{item:!0,xs:3},r.a.createElement("input",{id:"callInput",ref:a}))),r.a.createElement(je.a,{item:!0,xs:3}))))};a(114);var Ne=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(""),o=Object(m.a)(l,2),s=o[0],u=o[1],d=Object(n.useState)(""),p=Object(m.a)(d,2),v=p[0],f=p[1],b=Object(n.useState)(!1),h=Object(m.a)(b,2),E=h[0],x=h[1],w=Object(n.useState)(""),y=Object(m.a)(w,2),N=(y[0],y[1],Object(n.useState)("")),k=Object(m.a)(N,2),C=(k[0],k[1]),D=Object(n.useState)(!1),A=Object(m.a)(D,2),_=(A[0],A[1]),F=Object(n.useState)(!1),B=Object(m.a)(F,2),R=B[0],P=B[1],U=Object(n.useState)(""),M=Object(m.a)(U,2),I=M[0],V=M[1],W=Object(n.useState)(""),H=Object(m.a)(W,2),z=H[0],K=H[1],q=Object(n.useState)(!1),J=Object(m.a)(q,2),G=J[0],Y=J[1],Q=Object(n.useState)(""),X=Object(m.a)(Q,2),$=(X[0],X[1],Object(n.useState)("")),Z=Object(m.a)($,2),ee=(Z[0],Z[1],Object(n.useState)(0)),te=Object(m.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)([]),ce=Object(m.a)(re,2),ie=ce[0],le=ce[1],oe=Object(n.useState)(!1),se=Object(m.a)(oe,2),ue=se[0],me=(se[1],"");Object(n.useEffect)((function(){Ee(),je();try{Ne()}catch(a){console.log(a)}be(),le(e.chatData.message);var t=setTimeout(Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:clearTimeout(t);case 3:case"end":return e.stop()}}),e)}))),3e3)}),[]),Object(n.useEffect)((function(){return function(){ke()}}),[]),Object(n.useEffect)((function(){var t=e.chatData.messages.length;t!==ie&&de(t)}),[]);var de=function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("hello"),e.next=3,fe();case 3:le(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){try{var e=document.getElementById("scrolling");e.scrollTop=e.scrollHeight}catch(t){}},be=function(){var e=Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.collection("users").where("email","==",s).onSnapshot(Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee();case 2:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var t=Object(O.a)(g.a.mark((function t(){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],n=Oe(e.userEmail),t.next=4,e.allUserData.map((function(e){e.email===n&&a.push(e)}));case 4:return console.log("oponent data>>",a),a[0].id,t.next=8,i(a[0]);case 8:return t.next=10,u(n);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Oe=function(t){var a=e.chatData.users;return a[0]!==t?a[0]:a[1]},we=function(){var t=Object(O.a)(g.a.mark((function t(){var a,n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.chatData.docid,n=(new Date).toLocaleTimeString("en-US",{hour:"numeric",hour12:!0,minute:"numeric"}),r=Date.now(),!v){t.next=14;break}return t.next=7,T.collection("chats").doc(a).update({messages:S.firestore.FieldValue.arrayUnion({sender:e.userEmail,message:v,time:n,type:"text"}),time:r});case 7:return t.next=9,fe();case 9:t.next=12;break;case 11:alert("Sorry This Chat Is Blocked");case 12:t.next=15;break;case 14:alert("Please Enter Valid Chat");case 15:return t.next=17,ke();case 17:return t.next=19,f(v);case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),je=function(){var t=Object(O.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.collection("users").where("URL","==",e.profilePicture).get().then((function(e){e.forEach((function(e){C(e.id)}))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ne=function(){var t=Object(O.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.chatData.docid,t.prev=1,t.next=4,T.collection("chats").doc(a).onSnapshot(function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data()){e.next=9;break}if(!t.data().typing.includes(s)){e.next=7;break}return e.next=5,_(!0);case 5:e.next=9;break;case 7:return e.next=9,_(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}(),ke=function(){var t=Object(O.a)(g.a.mark((function t(a){var n,r,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.chatData.docid,r=e.userEmail,t.next=5,Ce(n);case 5:if(c=t.sent,!a){t.next=12;break}if(c.includes(r)){t.next=10;break}return t.next=10,c.push(r);case 10:t.next=13;break;case 12:c=c.filter((function(e){if(e!==r)return e}));case 13:T.collection("chats").doc(n).update({typing:c});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ce=function(){var e=Object(O.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return[],e.prev=1,e.next=4,T.collection("chats").doc(t).get().then((function(e){return e.data().typing}));case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var t=Object(O.a)(g.a.mark((function t(){var a,n,r,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.chatData.docid,n=e.userEmail,r=(new Date).toLocaleTimeString("en-US",{hour:"numeric",hour12:!0,minute:"numeric"}),c=Date.now(),t.prev=4,t.next=8,L.ref("chats/".concat(a,"/").concat(c)).put(I).on("state_changed",function(){var e=Object(O.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Math.round(t.bytesTransferred/t.totalBytes*100),ne(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.log(e)}),Object(O.a)(g.a.mark((function e(){var t,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.ref("chats/".concat(a,"/").concat(c)).getDownloadURL().then((function(e){return e}));case 2:return t=e.sent,e.next=5,T.collection("chats").doc(a).update({messages:S.firestore.FieldValue.arrayUnion({sender:n,type:"img",imgnm:c,time:r,URL:t}),time:c});case 5:return e.next=7,Y(!1);case 7:return e.next=9,P(!1);case 9:i=setTimeout(Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:clearTimeout(i);case 3:case"end":return e.stop()}}),e)}))),3e3);case 10:case"end":return e.stop()}}),e)}))));case 8:t.next=11;break;case 10:alert("Sorry This Chat Is Blocked");case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"container-fluid"},ue?r.a.createElement(ye,{userDocid:me}):!1===R?r.a.createElement("div",null,!1===E?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary mr-2",onClick:e.backButtonClick},r.a.createElement(he.a,{color:"action",fontSize:"small"}))),r.a.createElement("div",{className:"user_info"},r.a.createElement("span",null,c.name)," "),r.a.createElement(j.a,{to:"videocall/"+me},r.a.createElement(xe.a,{fontSize:"large"}))),r.a.createElement("div",{className:"card-body",id:"scrolling"},e.chatData.messages.map((function(t,a){return r.a.createElement("div",{key:a},"text"===t.type?r.a.createElement("div",null,t.sender===s?r.a.createElement("div",{className:"d-flex justify-content-start mb-4"},r.a.createElement("div",{className:"img_cont_msg"},r.a.createElement("img",{src:c.URL,className:"rounded-circle user_img_msg"})),r.a.createElement("div",{className:"Oponent_message"},t.message,r.a.createElement("span",{className:"msg_time text-dark text-center"},t.time))):r.a.createElement("div",{className:"sender_contain"},r.a.createElement("div",{className:"sender"},t.message,r.a.createElement("span",{className:"msg_time_send text-dark text-center"},t.time)),r.a.createElement("div",{className:"img_cont_msg"}))):r.a.createElement("div",null,t.sender===s?r.a.createElement("div",{className:"d-flex justify-content-start mb-4"},r.a.createElement("div",{className:"img_cont_msg"},r.a.createElement("img",{src:c.URL,className:"rounded-circle user_img_msg"})),r.a.createElement("div",{className:"msg_cotainer text-center",style:{minWidth:"70px",width:"40%"}},r.a.createElement("img",{src:t.URL,className:"msg_img"}),r.a.createElement("span",{className:"msg_time text-dark text-center"},t.time))):r.a.createElement("div",{className:"d-flex justify-content-end mb-4"},r.a.createElement("div",{className:"msg_cotainer_send text-center pointer",style:{minWidth:"70px",width:"40%"}},r.a.createElement("img",{src:t.URL,className:"msg_img"}),r.a.createElement("span",{className:"msg_time_send text-dark text-center"},t.time)),r.a.createElement("div",{className:"img_cont_msg"},r.a.createElement("img",{src:e.profilePicture,className:"rounded-circle user_img_msg"})))))}))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("span",{className:"input-group"},r.a.createElement(ve.a,{name:"",className:"type_msg",placeholder:"Type your message...",value:v,onChange:function(e){f(e.target.value),ke(e.target.value)}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement(pe.a,{className:"send_btn",onClick:function(){return we()}},r.a.createElement(ge.a,null)))))):r.a.createElement("div",{className:"oponent-profile p-5 shadow center"},r.a.createElement("div",{className:"chat-img-profile-div"},r.a.createElement("img",{src:c.URL,className:"chat-img-profile"})),r.a.createElement("div",{style:{backgroundColor:"#6b34c9",color:"white",borderRadius:"20px"},className:"p-2 mt-2 container"},r.a.createElement("div",{className:"chat-name-profile"},r.a.createElement("h3",null,"Name: ",c.name)),r.a.createElement("div",null,r.a.createElement("h4",null,"Email: ",c.email)),r.a.createElement("div",{className:"chat-description-profile"},r.a.createElement("h5",null,"Description: ",c.description))),r.a.createElement("div",{className:"p-3"},r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-primary mt-3",onClick:function(){return x(!1)}},"Back")))):r.a.createElement("div",{className:"container center"},r.a.createElement("img",{src:z,className:"image-upload-output"}),G?r.a.createElement("div",{className:"mt-2"},r.a.createElement("button",{className:"btn btn-primary mr-3",onClick:function(){P(!1),V(""),K(""),fe()}},"Cancel"),r.a.createElement("button",{className:"btn btn-success",onClick:function(){return Se()}},"Send")):null),!0===G?r.a.createElement("div",{className:"p-3  center"},r.a.createElement("center",null,r.a.createElement("div",{className:"shadow p-3",style:{backgroundColor:"#E7E7E7"}},r.a.createElement("h5",null,ae,"%"),r.a.createElement("h3",null,"Sending...")))):null)},ke=Object(V.a)({},z.defaults),Ce=function(e){var t=e.className,a=e.topOuterDivider,c=e.bottomOuterDivider,i=e.topDivider,l=e.bottomDivider,o=e.hasBgColor,u=e.invertColor,d=e.invertMobile,p=e.invertDesktop,v=e.alignTop,f=e.imageFill,b=e.history,h=e.chats,E=e.userEmail,x=e.allUserData,j=Object(s.a)(e,["className","topOuterDivider","bottomOuterDivider","topDivider","bottomDivider","hasBgColor","invertColor","invertMobile","invertDesktop","alignTop","imageFill","history","chats","userEmail","allUserData"]),y=w()("features-split section",a&&"has-top-divider",c&&"has-bottom-divider",o&&"has-bg-color",u&&"invert-color",t),N=w()("features-split-inner section-inner",i&&"has-top-divider",l&&"has-bottom-divider"),k=w()("split-wrap",d&&"invert-mobile",p&&"invert-desktop",v&&"align-top");function C(e){var t=e.children,a=e.value,n=e.index,c=Object(s.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),a===n&&r.a.createElement(ie.a,{p:3},r.a.createElement(ce.a,null,t)))}var S=r.a.useState(0),L=Object(m.a)(S,2),A=L[0],_=L[1],F=Object(n.useState)(!1),B=Object(m.a)(F,2),R=B[0],P=B[1],U=Object(n.useState)(""),M=Object(m.a)(U,2),I=(M[0],M[1]),V=Object(n.useState)(""),W=Object(m.a)(V,2),H=W[0],z=W[1],K=Object(n.useState)(!1),q=Object(m.a)(K,2),J=q[0],G=q[1],Y=Object(n.useState)(""),X=Object(m.a)(Y,2),$=(X[0],X[1],Object(n.useState)(!1)),Z=Object(m.a)($,2),ee=Z[0],ve=(Z[1],Object(n.useState)(!1)),be=Object(m.a)(ve,2),he=(be[0],be[1],Object(n.useState)("")),Ee=Object(m.a)(he,2),ge=(Ee[0],Ee[1],Object(n.useState)("")),Oe=Object(m.a)(ge,2),xe=(Oe[0],Oe[1],Object(n.useState)(!1)),we=Object(m.a)(xe,2);we[0],we[1];Object(n.useEffect)((function(){D.onAuthStateChanged((function(e){e?je(e.uid):b.push("/login")}))}),[]);var je=function(e){T.collection("users").where("id","==",e).get().then((function(e){e.forEach((function(e){var t=e.data();I(t.name)}))}))},ye=function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee){e.next=5;break}return e.next=3,z(t);case 3:return e.next=5,P(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(!1);case 2:return e.next=4,G(!1);case 4:return e.next=6,j.searchChat("");case 6:b.push("/dashboard");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("section",Object.assign({},j,{className:y}),!1===J?r.a.createElement("div",{className:"container"},!1===R?r.a.createElement("div",{className:N},r.a.createElement(Q,{data:{title:"Workflow that just works",paragraph:"Share Your Thoughts with chatting with friends and family, Collegues. Whenever Wherever Needed."},className:"center-content"}),r.a.createElement("div",{className:k},r.a.createElement("div",{className:"split-item"},r.a.createElement("div",{className:"split-item-content center-content-mobile reveal-from-left","data-reveal-container":".split-item"},r.a.createElement("div",{className:"text-xxs text-color-primary fw-600 tt-u mb-8"},"Video Conferencing"),r.a.createElement("h3",{className:"mt-0 mb-12"},"Video Conference")),r.a.createElement("div",{className:w()("split-item-image center-content-mobile reveal-from-bottom",f&&"split-item-image-fill"),"data-reveal-container":".split-item"},r.a.createElement(te.a,{elevation:3},r.a.createElement("div",{className:"new-chat",style:{fontSize:"10px"}},r.a.createElement("center",null,r.a.createElement(pe.a,{style:{backgroundColor:"yellowgreen"},onClick:function(){return G(!0)}},r.a.createElement("span",null,"Create New Chat")))),r.a.createElement(re.a,{position:"static",color:"default"},r.a.createElement(ae.a,{indicatorColor:"primary",textColor:"primary",variant:"fullWidth",value:A,onChange:function(e,t){_(t)},"aria-label":"full width tabs example"},r.a.createElement(ne.a,{label:"Direct"}),r.a.createElement(ne.a,{label:"Group Chat"}),r.a.createElement(ne.a,{label:"Archived"}))),r.a.createElement(C,{value:A,index:0},r.a.createElement(ue.a,null,h.map((function(e,t){return r.a.createElement(me.a,{alignItems:"flex-start",onClick:function(){return ye(t)}},r.a.createElement(oe.a,null,r.a.createElement(se.a,{alt:"Remy Sharp"})),r.a.createElement(le.a,{primary:x.map((function(t){if(t.email===(e.users[0]!==E?e.users[0]:e.users[1]))return t.name})),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{component:"span",variant:"body2",color:"textPrimary"},"text"===e.messages[e.messages.length-1].type?r.a.createElement("span",{className:"mr-1"},e.messages.length>0?e.messages[e.messages.length-1].message.substring(0,10):""):r.a.createElement("span",null,"Image")))}))})),r.a.createElement(de.a,null))),r.a.createElement(C,{value:A,index:1},r.a.createElement(ue.a,null,r.a.createElement(me.a,{alignItems:"flex-start"},r.a.createElement(oe.a,null,r.a.createElement(se.a,{alt:"Remy Sharp"})),r.a.createElement(le.a,{primary:"Brunch this weekend?",secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{component:"span",variant:"body2",color:"textPrimary"},"Ali Connors"))})),r.a.createElement(de.a,{variant:"inset",component:"li"}),r.a.createElement(de.a,{variant:"inset",component:"li"}))),r.a.createElement(C,{value:A,index:2},r.a.createElement(ue.a,null,r.a.createElement(de.a,{variant:"inset",component:"li"}),r.a.createElement(me.a,{alignItems:"flex-start"},r.a.createElement(oe.a,null,r.a.createElement(se.a,{alt:"Travis Howard",src:"/static/images/avatar/2.jpg"})),r.a.createElement(le.a,{primary:"Summer BBQ",secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{component:"span",variant:"body2",color:"textPrimary"},"to Scott, Alex, Jennifer"))})),r.a.createElement(de.a,{variant:"inset",component:"li"}),r.a.createElement(me.a,{alignItems:"flex-start"},r.a.createElement(oe.a,null,r.a.createElement(se.a,{alt:"Cindy Baker",src:"/static/images/avatar/3.jpg"})),r.a.createElement(le.a,{primary:"Oui Oui",secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{component:"span",variant:"body2",color:"textPrimary"},"Sandra Adams"))}))))))))):r.a.createElement(Ne,{chatData:h[H],allUserData:x,userEmail:E,backButtonClick:function(){return ke()},profilePicture:"https://moorestown-mall.com/noimage.gif"})):r.a.createElement(fe,{userEmail:E,backButtonClick:function(){return ke()},allUserData:x,history:b}))};Ce.defaultProps=ke;var Se=Ce;var De=function(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)([]),o=Object(m.a)(l,2),s=o[0],u=o[1],d=Object(n.useState)([]),p=Object(m.a)(d,2),v=p[0],f=p[1],b=Object(n.useState)([]),h=Object(m.a)(b,2),E=h[0],x=h[1],w=function(){var t=Object(O.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.collection("users").where("email","==",a).get().then((function(e){return console.log(e),e.docs.map((function(e){return e.id}))[0]}));case 2:n=t.sent,r=setTimeout((function(){try{"undefined"!=n?T.collection("users").doc(n).update({isonline:!0}):w()}catch(t){alert(t),e.history.push("login")}clearTimeout(r)}),2e3);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var e=Object(O.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.collection("chats").where("users","array-contains",t.email).onSnapshot(function(){var e=Object(O.a)(g.a.mark((function e(n){var r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.docs.map((function(e){return e.data()}))).sort((function(e,t){return e.time<t.time?1:e.time>t.time?-1:0})),c=[],!a){e.next=7;break}return e.next=6,r.filter((function(e){console.log("error is here"),console.log(e),console.log(t.email),console.log(s),console.log("error is here");var n=e.users[0]!=t.email?e.users[0]:e.users[1];if(a.includes(n))return e}));case 6:c=e.sent;case 7:if(a){e.next=14;break}return e.next=10,i(t.email);case 10:return e.next=12,u(r);case 12:e.next=18;break;case 14:return e.next=16,i(t.email);case 16:return e.next=18,u(c);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=function(e,t){var a=[];return v.map((function(n){-1!==n.name.indexOf(e)&&n.email!==t&&a.push(n.email)})),a};return Object(n.useEffect)((function(){D.onAuthStateChanged((function(t){if(t)try{x(t),i(t.email),T.collection("users").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));f(t)})),j(t),w(t.email)}catch(a){e.history.push("login")}else e.history.push("login")}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Se,{invertMobile:!0,topDivider:!0,imageFill:!0,className:"illustration-section-02",history:e.history,chats:s,userEmail:c,allUserData:v,searchChat:function(e){return function(e){var t=y(e,c);j(E,t)}(e)}}))},Te=a(42);var Le=function(e){var t,a=e.className,c=e.topOuterDivider,i=e.bottomOuterDivider,l=e.topDivider,o=e.bottomDivider,u=e.hasBgColor,d=e.invertColor,p=(e.invertMobile,e.invertDesktop,e.alignTop,e.imageFill,Object(s.a)(e,["className","topOuterDivider","bottomOuterDivider","topDivider","bottomDivider","hasBgColor","invertColor","invertMobile","invertDesktop","alignTop","imageFill"])),v=w()("features-split section",c&&"has-top-divider",i&&"has-bottom-divider",u&&"has-bg-color",d&&"invert-color",a),f=w()("features-split-inner section-inner",l&&"has-top-divider",o&&"has-bottom-divider"),b=Object(n.useState)(""),h=Object(m.a)(b,2),E=h[0],g=h[1],O=Object(n.useState)(""),x=Object(m.a)(O,2),y=x[0],N=x[1],k=Object(n.useState)(!1),C=Object(m.a)(k,2),S=(C[0],C[1]);Object(n.useEffect)((function(){D.onAuthStateChanged((function(e){e&&D.currentUser.emailVerified&&(alert("logged in"),p.history.push("/dashboard"))}))}),[]);var T=function(){try{E&&y?D.signInWithEmailAndPassword(E,y).then((function(e){e?(alert("succesfully login"),p.history.push("dashboard")):alert("Login Failed")})).catch((function(e){g(""),N(""),alert("User Not Found")})):alert("Please Enter Valid Data")}catch(e){alert(e),S(!1)}};return r.a.createElement("div",null,r.a.createElement("section",Object.assign({},p,{className:v}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:f},r.a.createElement(te.a,{elevation:0,square:!0,align:"center",style:{backgroundColor:"transparent"}},r.a.createElement(ce.a,{variant:"h5",color:"primary",align:"center"},"Login"),r.a.createElement(de.a,null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(ve.a,{align:"center",className:"email p-2",value:E,onChange:function(e){return g(e.target.value.toLowerCase())},type:"email",placeholder:"Email",style:{color:"white"},autoFocus:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ve.a,(t={align:"center",className:"password p-2",type:"password",onChange:function(e){return N(e.target.value)},onKeyUp:function(e){13===e.keyCode&&T()}},Object(Te.a)(t,"type","password"),Object(Te.a)(t,"placeholder","Password"),Object(Te.a)(t,"style",{color:"white"}),t)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pe.a,{variant:"contained",color:"primary",className:"btn login-btn mt-2",style:{backgroundColor:"#7536e2",color:"white",borderRadius:"10px",padding:"10px"},onClick:function(){return T()}},"Login"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(de.a,null),r.a.createElement("span",{style:{color:"white"}},"Create an Account "),r.a.createElement(j.a,{to:"/sign"},r.a.createElement(pe.a,{variant:"contained",color:"primary",className:"btn login-btn mt-2",align:"center",style:{backgroundColor:"#7536e2",color:"white",borderRadius:"10px",padding:"10px"}},"SignUp"))))))))};a(116);var Ae=function(e){var t=e.className,a=e.topOuterDivider,c=e.bottomOuterDivider,i=e.topDivider,l=e.bottomDivider,o=e.hasBgColor,u=e.invertColor,d=(e.invertMobile,e.invertDesktop,e.alignTop,e.imageFill,Object(s.a)(e,["className","topOuterDivider","bottomOuterDivider","topDivider","bottomDivider","hasBgColor","invertColor","invertMobile","invertDesktop","alignTop","imageFill"])),p=w()("features-split section",a&&"has-top-divider",c&&"has-bottom-divider",o&&"has-bg-color",u&&"invert-color",t),v=w()("features-split-inner section-inner",i&&"has-top-divider",l&&"has-bottom-divider"),f=Object(n.useState)(""),b=Object(m.a)(f,2),h=b[0],E=b[1],g=Object(n.useState)(""),O=Object(m.a)(g,2),x=O[0],j=O[1],y=Object(n.useState)(""),N=Object(m.a)(y,2),k=N[0],C=N[1],S=Object(n.useState)(!1),L=Object(m.a)(S,2);return L[0],L[1],Object(n.useEffect)((function(){D.onAuthStateChanged((function(e){e&&D.currentUser.emailVerified&&(alert("logged in"),d.history.push("/dashboard"))}))}),[]),r.a.createElement("div",null,r.a.createElement("section",Object.assign({},d,{className:p}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:v},r.a.createElement(te.a,{elevation:0,square:!0,align:"center",style:{backgroundColor:"transparent"}},r.a.createElement("div",{className:"form-component"},r.a.createElement(ce.a,{variant:"h5",color:"primary",align:"center"},"SignUp")),r.a.createElement("div",{className:"form-component"},r.a.createElement(ve.a,{className:"email p-2",type:"text",value:x,onChange:function(e){j(e.target.value.toLowerCase())},placeholder:"Name"})),r.a.createElement("div",{className:"form-component"},r.a.createElement(ve.a,{className:"email p-2",type:"email",value:h,onChange:function(e){E(e.target.value.toLowerCase())},placeholder:"Email"})),r.a.createElement("div",{className:"form-component"},r.a.createElement(ve.a,{className:"password p-2",type:"password",value:k,onChange:function(e){C(e.target.value)},placeholder:"Password"})),r.a.createElement("div",{className:"form-component"},r.a.createElement(pe.a,{className:"btn login-btn mt-2",style:{backgroundColor:"#7536e2",color:"white",borderRadius:"50px"},onClick:function(){return function(){try{x&&h&&k?(D.createUserWithEmailAndPassword(h,k).then((function(e){T.collection("users").add({name:x,id:e.user.uid,email:h,password:k,URL:"",description:"",imgname:"",isonline:!1,blocklist:[],isverify:!1})})).catch((function(e){alert(e)})),alert("User Created Successfully Check Email For Verification"),D.signOut(),d.history.push("login")):alert("Please Enter Valid Data")}catch(e){alert(e)}}()}},"Signup")))))))};var _e=function(){return r.a.createElement("div",null)};h.a.initialize(Object({NODE_ENV:"production",PUBLIC_URL:"/Call-me",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GA_CODE);var Fe=function(){var e=Object(n.useRef)(),t=Object(l.g)();return Object(n.useEffect)((function(){var a=t.pathname;document.body.classList.add("is-loaded"),e.current.init(),function(e){h.a.set({page:e}),h.a.pageview(e)}(a)}),[t]),r.a.createElement(b,{ref:e,children:function(){return r.a.createElement(l.c,null,r.a.createElement(u,{exact:!0,path:"/",component:ee,layout:I}),r.a.createElement(u,{exact:!0,path:"/dashboard",component:De,layout:I}),r.a.createElement(u,{exact:!0,path:"/videoconference",component:_e,layout:I}),r.a.createElement(u,{exact:!0,path:"/login",component:Le,layout:I}),r.a.createElement(u,{exact:!0,path:"/sign",component:Ae,layout:I}),r.a.createElement(u,{exact:!0,path:"/videocall/:id",component:ye,layout:I}))}})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(117);var Be=Object(o.a)();i.a.render(r.a.createElement(l.b,{history:Be},r.a.createElement(Fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},91:function(e,t,a){e.exports=a(118)}},[[91,1,2]]]);
//# sourceMappingURL=main.bcc88444.chunk.js.map